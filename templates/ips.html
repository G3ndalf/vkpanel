{% extends "base.html" %}

{% block title %}–í—Å–µ IP ‚Äî VK IP Panel{% endblock %}

{% block content %}
<h1 style="margin-bottom: 1.5rem;">üéØ –í—Å–µ –ø–æ–π–º–∞–Ω–Ω—ã–µ IP</h1>

<div class="card">
    <h2>üìã –°–ø–∏—Å–æ–∫ IP ({{ ips|length }})</h2>
    
    {% if ips %}
    <table>
        <thead>
            <tr>
                <th>IP –∞–¥—Ä–µ—Å</th>
                <th>–ü–æ–¥—Å–µ—Ç—å</th>
                <th>–°–µ—Ä–≤–µ—Ä</th>
                <th>–°–∫—Ä–∏–ø—Ç</th>
                <th>–ê–∫–∫–∞—É–Ω—Ç</th>
                <th>–ü—Ä–æ–µ–∫—Ç</th>
                <th>–î–∞—Ç–∞</th>
                <th>FIP ID</th>
            </tr>
        </thead>
        <tbody>
            {% for ip in ips %}
            <tr>
                <td><code class="ip-code" style="font-size: 1rem; color: #f59e0b;">{{ ip.ip }}</code></td>
                <td>{{ ip.subnet }}</td>
                <td>{{ ip.server }}</td>
                <td>{{ ip.script }}</td>
                <td>{{ ip.account }}</td>
                <td>{{ ip.project }}</td>
                <td style="font-size: 0.85rem; color: #64748b;">{{ ip.created_at or '-' }}</td>
                <td><code style="font-size: 0.75rem; color: #64748b;">{{ ip.fip_id[:8] if ip.fip_id else '-' }}...</code></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="empty">
        <p>IP –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem;">–û–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –∫–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞—á–Ω—É—Ç –ª–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å–∞</p>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
// –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
setTimeout(() => location.reload(), 60000);
</script>
{% endblock %}
